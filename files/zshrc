setopt autocd
setopt autopushd

export LC_ALL=C.UTF-8
export LANG=C.UTF-8
export GOPATH=$HOME/go
export PATH=$PATH:$GOPATH/bin
export FLUX_FORWARD_NAMESPACE=flux
export DOCKER_BUILDKIT=1

function peco-cd-ghq {
  cd "$( ghq list --full-path | peco)"
}

PROMPT="%# "

alias ll="ls -alh"
alias pcd='peco-cd-ghq'
alias phist='history | peco'
alias k=kubectl
# Workaround https://github.com/docker/for-win/issues/6391
alias kubectl="/usr/bin/kubectl"

if [ -e $HOME/zsh-completions/src ]; then
  fpath=($HOME/zsh-completions/src $fpath)
fi

autoload -Uz +X compinit && compinit -u
autoload -Uz +X bashcompinit && bashcompinit

source /etc/bash_completion.d/azure-cli

source <(kubectl completion zsh)
complete -o default -F __start_kubectl k

source <(helm completion zsh)

complete -o nospace -C /usr/bin/terraform terraform

. "$HOME/.cargo/env"
